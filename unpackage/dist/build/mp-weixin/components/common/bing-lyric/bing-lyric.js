(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/bing-lyric/bing-lyric"],{5362:function(t,e,i){"use strict";var s=i("ed73"),c=i.n(s);c.a},"5b03":function(t,e,i){"use strict";i.r(e);var s=i("9a06"),c=i("bfcb");for(var r in c)"default"!==r&&function(t){i.d(e,t,(function(){return c[t]}))}(r);i("5362");var n,l=i("f0c5"),h=Object(l["a"])(c["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],n);e["default"]=h.exports},"9a06":function(t,e,i){"use strict";var s,c=function(){var t=this,e=t.$createElement;t._self._c},r=[];i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}))},be17:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{font2line4height:2.5,selectAllStatus:!1,selects:{},scrollStatus:!1,touchIndex:0,curLyricId:"lrc-0",showLyricId:"lrc-0",curLyricIndex:0,selectStatus:!1,touchStatus:!1,showCenterView:!1,spaceLineNum:0,timeout:{centerViewHide:null,goCenter:null},cuSelectControlStyle:{height:"40px",backgroundColor:"grey",itemFontSize:"16px",itemBorderRadius:"99px",itemBackgroundColor:"#00ffff"},cuLyricStyle:{color:"#000000",activeColor:"#ffffff",fontSize:"16px",activeFontSize:"16px",lineHeight:"40px",activeLineHeight:"40px",selectedBGColor:"inherit"},cuAreaStyle:{width:"100vw",height:"70vh",background:"linear-gradient(#8cc8b4, #ffaa7f, #8cc8b4)"},cuCenterStyle:{btnImg:"",btnText:"btn",color:"#ffffff",lineHeight:"1px",height:"16px",fontSize:"14px"},scrollView:{height:"100%",top:0},screen:{width:0,height:0,px2rpxscale:1}}},beforeMount:function(){var e=t.getSystemInfoSync();if(this.screen.width=e.windowWidth,this.screen.height=e.windowHeight,this.screen.px2rpxscale=750/e.windowWidth,this.cuAreaStyle=Object.assign(this.cuAreaStyle,this.areaStyle),this.cuLyricStyle=Object.assign(this.cuLyricStyle,this.lyricStyle),this.cuCenterStyle=Object.assign(this.cuCenterStyle,this.centerStyle),this.cuSelectControlStyle=Object.assign(this.cuSelectControlStyle,this.selectControlStyle),this.lyricStyle){if("activeFontSize"in this.lyricStyle||(this.cuLyricStyle["activeFontSize"]=this.cuLyricStyle["fontSize"]),!("lineHeight"in this.lyricStyle)){var i=this.sizeDeal(this.cuLyricStyle["fontSize"]);this.cuLyricStyle["lineHeight"]=i[0]*this.font2line4height+i[1]}if(!("activeLineHeight"in this.lyricStyle)){var s=this.sizeDeal(this.cuLyricStyle["activeFontSize"]);this.cuLyricStyle["activeLineHeight"]=s[0]*this.font2line4height+s[1]}}if(this.centerStyle&&!("height"in this.centerStyle)){var c=this.sizeDeal(this.cuCenterStyle["fontSize"]);this.cuCenterStyle["height"]=1.2*c[0]+c[1]}},mounted:function(){var e=this;this.$nextTick((function(){var i=t.createSelectorQuery().in(e);i.select(".lyric-main").boundingClientRect((function(t){e.cuAreaStyle.height=t.height+"px";var i=e.sizeDeal(e.cuLyricStyle.lineHeight),s=e.sizeDeal(e.cuLyricStyle.activeLineHeight),c=Math.floor((t.height-s[0])/i[0]);c%2!==0&&(c-=1),e.spaceLineNum=Math.floor(c/2),e.scrollView.height=c*i[0]+s[0]+"px",e.scrollView.top=(t.height-(c*i[0]+s[0]))/2+"px"})).exec()}))},props:{selectControlStyle:{default:function(){},type:Object},centerStyle:{default:function(){},type:Object},lyrics:{default:function(){return[]},type:Array},curTime:{default:0,type:[Number,String]},lyricStyle:{default:function(){},type:Object},areaStyle:{default:function(){},type:Object}},watch:{curTime:function(t){var e=this.getIndex(t,this.mLyrics.times);this.curLyricIndex=e+this.spaceLineNum,this.curLyricId="lrc-"+e,this.touchStatus||this.selectStatus||(this.showLyricId=this.curLyricId)}},computed:{lineHeightNum:function(){var t=this.sizeDeal(this.cuLyricStyle.fontSize);return t[0]*this.font2line4height},centerTime:function(){var t=this.touchIndex-this.spaceLineNum,e=this.mLyrics.times[t];return this.timeFormat(e)},centerLineTop:function(){var t=this.sizeDeal(this.cuAreaStyle.height);return t=t[0]/2-this.sizeDeal(this.cuCenterStyle.height)[0]/2+t[1],t},lineHeight:function(){var t=this.sizeDeal(this.cuLyricStyle.fontSize);return 2*t[0]+t[1]},activeLineHeight:function(){var t=this.sizeDeal(this.cuLyricStyle.activeFontSize);return 2*t[0]+t[1]},mLyrics:function(){return this.lrcDeal(this.lyrics)}},methods:{selectAll:function(){var t=this;this.selectAllStatus=!this.selectAllStatus,this.$nextTick((function(){if(t.selectAllStatus)for(var e=0;e<t.mLyrics.lrcs.length;e++){var i=t.mLyrics.lrcs[e];i&&(t.selects[e]=i)}else t.selects={};t.$forceUpdate()}))},copyLyric:function(){var t={};for(var e in this.selects)t[this.mLyrics.times[e-this.spaceLineNum]]=this.selects[e];this.$emit("copyLyrics",{lyrics:t}),this.selectCancel()},selectCancel:function(){this.selectStatus=!1,this.touchStatus=!1,this.selectAllStatus=!1,this.selects={}},itemLongpress:function(t,e){this.scrollStatus||this.selectStatus||(this.selects={},this.selectModel(),t&&(this.selects[e]?delete this.selects[e]:this.selects[e]=t),this.$forceUpdate())},select:function(t,e){this.selects[e]?delete this.selects[e]:this.selects[e]=t,this.$forceUpdate()},selectModel:function(){this.showCenterView=!1,this.touchStatus=!1,this.selectStatus=!0},centerBtnClick:function(){var t=this.mLyrics.lrcs[this.touchIndex],e=Number(this.mLyrics.times[this.touchIndex-this.spaceLineNum]);this.$emit("centerBtnClick",{centerTime:e,centerLyric:t})},textTouchstart:function(){clearTimeout(this.timeout.goCenter),clearTimeout(this.timeout.centerViewHide),this.touchStatus=!0},textTouchEnd:function(){var t=this;this.touchStatus=2,this.scrollStatus=!1,this.selectStatus||(this.timeout.goCenter=setTimeout((function(){t.showLyricId="lrc-"+(t.touchIndex-t.spaceLineNum)}),500),this.timeout.centerViewHide=setTimeout(this.clearTouch,5e3))},clearTouch:function(){this.touchStatus=!1,this.showLyricId=this.curLyricId,this.showCenterView=!1},lyricScroll:function(t){var e=t.detail.scrollTop,i=Math.round(e/this.lineHeightNum);this.touchIndex=i+this.spaceLineNum,!0!==this.touchStatus||this.selectStatus||(this.scrollStatus=!0),!this.touchStatus||this.selectStatus||this.showCenterView||(this.showCenterView=!0),this.$forceUpdate()},getIndex:function(t,e){t=Number(t);var i=0;for(var s in e){var c=Number(e[s]);if(t==c)return i;if(t<c)return i-1;if(i==e.length-1)return e.length-1;i+=1}},timeFormat:function(t){if(t=Number(t),t>=0){var e=parseInt(t/3600),i=parseInt(t/60)-60*e,s=parseInt(t)-60*i;return 1==e.toString().length&&(e="0"+e),1==i.toString().length&&(i="0"+i),1==s.toString().length&&(s="0"+s),"00"!=e?e+":"+i+":"+s:i+":"+s}return""},sizeDeal:function(t){var e=Number.isNaN(parseFloat(t))?0:parseFloat(t),i=t.toString().replace(/[0-9\.]/g,"");return"rpx"==i?(e/=this.screen.px2rpxscale,i="px"):""==i?i="px":"vw"==i&&(i="px",e=e/100*750/this.screen.px2rpxscale),[e,i,e+i]},lrcDeal:function(t){var e={lrcs:[],times:[]};if(t.length<1)e.lrcs.push("还没有歌词...");else for(var i=0;i<t.length;i++){var s=t[i].toString(),c=s.split("]");if(c.length>1){var r=c[0].replace("[",""),n=r.split(":");if(n.length>1){var l=n.reverse(),h=0;if(-1!=l[0].indexOf("."))for(var u=0;u<l.length;u++)h+=Number(l[u])*Math.pow(60,u);else for(var o=0;o<l.length;o++)h+=0==o?Number(l[o])/1e3:Number(l[o])*Math.pow(60,o-1);h=h.toFixed(2);var a=c.splice(1,1e3).join("]").trim();a.length>0&&(e.times.push(h),e.lrcs.push(a))}else{var f=c.splice(1,1e3).join("]").trim();f.length>0&&(e.times.push(Number(r).toFixed(2)),e.lrcs.push(f))}}}for(var y=0;y<this.spaceLineNum;y++)e.lrcs.push(""),e.lrcs.splice(0,0,"");return e}}};e.default=i}).call(this,i("543d")["default"])},bfcb:function(t,e,i){"use strict";i.r(e);var s=i("be17"),c=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=c.a},ed73:function(t,e,i){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/bing-lyric/bing-lyric-create-component',
    {
        'components/common/bing-lyric/bing-lyric-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5b03"))
        })
    },
    [['components/common/bing-lyric/bing-lyric-create-component']]
]);
